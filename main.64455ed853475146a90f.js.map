{"version":3,"file":"main.64455ed853475146a90f.js","mappings":"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","sources":["webpack://test_string/./src/js/CursorManager.js","webpack://test_string/./src/js/DragAndDropManager.js","webpack://test_string/./src/js/SelectionManager.js","webpack://test_string/./src/js/TextRenderer.js","webpack://test_string/./src/js/Main.js","webpack://test_string/./src/js/index.js"],"sourcesContent":["export class CursorManager {\n  constructor() {\n    this.cursor = this.createCursor();\n  }\n\n  createCursor() {\n    const span = document.createElement('span');\n    span.classList.add('text-cursor');\n    return span;\n  }\n\n  placeBefore(target) {\n    const parent = target.parentNode;\n    if (!parent || typeof parent.insertBefore !== 'function') return;\n\n    if (!this.cursor.parentNode || this.cursor.nextSibling !== target) {\n      parent.insertBefore(this.cursor, target);\n    }\n  }\n\n  remove() {\n    if (this.cursor.parentNode) {\n      this.cursor.parentNode.removeChild(this.cursor);\n    }\n  }\n\n  getCursor() {\n    return this.cursor;\n  }\n}\n","import { CursorManager } from './CursorManager';\n\nexport class DragAndDropManager {\n  constructor(selectionManager, messageElement) {\n    this.selectionManager = selectionManager;\n    this.messageElement = messageElement;\n    this.cursorManager = new CursorManager();\n\n    this.draggedLetters = [];\n\n    this.setupEventListeners();\n  }\n\n  setupEventListeners() {\n    document.body.addEventListener('dragstart', this.handleDragStart.bind(this));\n    document.body.addEventListener('dragover', this.handleDragOver.bind(this));\n    document.body.addEventListener('drop', this.handleDrop.bind(this));\n    document.body.addEventListener('dragend', this.handleDragEnd.bind(this));\n  }\n\n  handleDragStart(event) {\n    const selected = this.selectionManager.getSelectedLetters();\n\n    if (selected.length === 0 || !event.target.classList.contains('letter__selected')) {\n      this.messageElement.textContent =\n        'To select, press Ctrl (or Cmd on Mac) + click to multi-select or Ctrl (or Cmd on Mac) + drag to group select.';\n\n      return;\n    }\n\n    this.draggedLetters = selected\n      .map(({ element }) => ({ element }))\n      .sort((a, b) => {\n        return parseInt(a.element.dataset.index) - parseInt(b.element.dataset.index);\n      });\n\n    event.dataTransfer.setData('text/plain', '');\n    event.dataTransfer.effectAllowed = 'move';\n\n    this.draggedLetters.forEach(({ element }) => element.classList.add('dragging'));\n  }\n\n  handleDragOver(event) {\n    event.preventDefault();\n\n    const dropTarget = this.findLetterFromPoint(event.clientX, event.clientY);\n    if (dropTarget && !dropTarget.classList.contains('dragging')) {\n      this.cursorManager.placeBefore(dropTarget);\n    }\n  }\n\n  handleDrop(event) {\n    event.preventDefault();\n\n    const dropTarget = this.findLetterFromPoint(event.clientX, event.clientY);\n    if (!dropTarget || dropTarget.classList.contains('dragging')) return;\n\n    const parent = dropTarget.parentNode;\n    if (!parent || !this.draggedLetters.length) return;\n\n    if (parent.classList.contains('result') || parent.classList.contains('dropped-outside')) {\n      if (this.draggedLetters.length === 1) {\n        this.swapLetters(dropTarget, this.draggedLetters[0].element);\n      } else {\n        this.draggedLetters.forEach(({ element }) => {\n          parent.insertBefore(element, this.cursorManager.getCursor());\n        });\n      }\n    } else {\n      const div = document.createElement('div');\n      div.classList.add('dropped-outside');\n\n      this.draggedLetters.forEach(({ element }) => {\n        const rect = element.getBoundingClientRect();\n        div.style.left = `${event.clientX - rect.width / 2}px`;\n        div.style.top = `${event.clientY - rect.height / 2}px`;\n        element.removeAttribute('draggable');\n\n        div.appendChild(element);\n      });\n      document.body.appendChild(div);\n    }\n\n    this.cleanup();\n  }\n\n  swapLetters(letterA, letterB) {\n    if (letterA === letterB) return;\n\n    const parentA = letterA.parentNode;\n    const parentB = letterB.parentNode;\n\n    const placeholderA = document.createElement('span');\n    const placeholderB = document.createElement('span');\n\n    parentA.replaceChild(placeholderA, letterA);\n    parentB.replaceChild(placeholderB, letterB);\n\n    parentA.replaceChild(letterB, placeholderA);\n    parentB.replaceChild(letterA, placeholderB);\n  }\n\n  handleDragEnd() {\n    this.cleanup();\n  }\n\n  cleanup() {\n    document.querySelectorAll('.dragging').forEach((el) => el.classList.remove('dragging'));\n    this.cursorManager.remove();\n    this.selectionManager.clearSelection();\n    this.draggedLetters = [];\n  }\n\n  findLetterFromPoint(x, y) {\n    let el = document.elementFromPoint(x, y);\n    while (el && !el.classList.contains('letter') && el !== document.body) {\n      el = el.parentNode;\n    }\n    return el;\n  }\n}\n","export class SelectionManager {\n  constructor(messageElement) {\n    this.selectedLetters = [];\n    this.selectionBox = null;\n    this.startX = 0;\n    this.startY = 0;\n\n    this.messageElement = messageElement;\n\n    this.setupEventListeners();\n  }\n\n  setupEventListeners() {\n    document.body.addEventListener('mousedown', this.handleMouseDown.bind(this));\n    document.body.addEventListener('mousemove', this.handleMouseMove.bind(this));\n    document.body.addEventListener('mouseup', this.handleMouseUp.bind(this));\n  }\n\n  handleMouseDown(event) {\n    if (event.ctrlKey || event.metaKey) {\n      this.toggleLetterSelection(event.target);\n      this.startSelectionBox(event);\n    }\n  }\n\n  toggleLetterSelection(letter) {\n    if (!letter.classList.contains('letter')) return;\n\n    const letterIndex = this.getLetterIndex(letter);\n    const existing = this.selectedLetters.find((item) => item.index === letterIndex);\n\n    if (existing) {\n      this.selectedLetters = this.selectedLetters.filter((item) => item.index !== letterIndex);\n      letter.classList.remove('letter__selected');\n      letter.removeAttribute('draggable');\n    } else {\n      this.selectedLetters.push({ text: letter.innerText, index: letterIndex, element: letter });\n      letter.classList.add('letter__selected');\n      letter.setAttribute('draggable', 'true');\n    }\n  }\n\n  startSelectionBox(event) {\n    this.selectionBox = document.createElement('div');\n    this.selectionBox.classList.add('selection-box');\n    document.body.appendChild(this.selectionBox);\n\n    this.startX = event.clientX;\n    this.startY = event.clientY;\n\n    this.updateSelectionBoxPosition(event);\n  }\n\n  handleMouseMove(event) {\n    if (!this.selectionBox) return;\n    this.updateSelectionBoxPosition(event);\n    this.updateLetterSelection();\n  }\n\n  handleMouseUp() {\n    if (this.selectionBox) {\n      document.body.removeChild(this.selectionBox);\n      this.selectionBox = null;\n    }\n    if (this.selectedLetters.length > 0) {\n      this.messageElement.textContent = 'Drag the symbols to the desired location.';\n    }\n  }\n\n  updateSelectionBoxPosition(event) {\n    const width = event.clientX - this.startX;\n    const height = event.clientY - this.startY;\n\n    Object.assign(this.selectionBox.style, {\n      width: `${Math.abs(width)}px`,\n      height: `${Math.abs(height)}px`,\n      left: `${Math.min(event.clientX, this.startX)}px`,\n      top: `${Math.min(event.clientY, this.startY)}px`,\n    });\n  }\n\n  updateLetterSelection() {\n    const rect = this.selectionBox.getBoundingClientRect();\n\n    document.querySelectorAll('.letter').forEach((letter) => {\n      const letterIndex = this.getLetterIndex(letter);\n      const letterRect = letter.getBoundingClientRect();\n\n      const isInside =\n        letterRect.left >= rect.left &&\n        letterRect.right <= rect.right &&\n        letterRect.top >= rect.top &&\n        letterRect.bottom <= rect.bottom;\n\n      if (isInside) {\n        if (!this.selectedLetters.some((item) => item.index === letterIndex)) {\n          letter.classList.add('letter__selected');\n          letter.setAttribute('draggable', 'true');\n          this.selectedLetters.push({\n            text: letter.innerText,\n            index: letterIndex,\n            element: letter,\n          });\n        }\n      } else {\n        letter.classList.remove('letter__selected');\n        letter.removeAttribute('draggable');\n        this.selectedLetters = this.selectedLetters.filter((item) => item.index !== letterIndex);\n      }\n    });\n  }\n\n  getLetterIndex(letter) {\n    return parseInt(letter.dataset.index, 10);\n  }\n\n  clearSelection() {\n    this.selectedLetters.forEach(({ element }) => element.classList.remove('letter__selected'));\n    this.selectedLetters = [];\n  }\n\n  getSelectedLetters() {\n    return [...this.selectedLetters];\n  }\n}\n","export class TextRenderer {\n  constructor(container, messageElement) {\n    this.container = container;\n    this.messageElement = messageElement;\n  }\n\n  render(value) {\n    this.clear();\n    if (!value.trim()) return;\n    this.messageElement.textContent =\n      'Press Ctrl (or Cmd on Mac) + click to multi-select or Ctrl (or Cmd on Mac) + drag to group select.';\n\n    this.container.classList.remove('visually-hidden');\n    value.split('').forEach((char, index) => {\n      this.container.appendChild(this.createSpan(char, index));\n    });\n  }\n\n  createSpan(char, index) {\n    const span = document.createElement('span');\n    span.innerText = char;\n    span.classList.add('letter');\n    span.dataset.index = index;\n    return span;\n  }\n\n  clear() {\n    this.container.innerHTML = '';\n    this.container.classList.add('visually-hidden');\n    this.messageElement.textContent = 'Enter text and click the \"Display\" button.';\n\n    document.querySelectorAll('.dropped-outside').forEach((el) => {\n      el.remove();\n    });\n  }\n}\n","import { DragAndDropManager } from './DragAndDropManager';\nimport { SelectionManager } from './SelectionManager';\nimport { TextRenderer } from './TextRenderer';\n\nexport class Main {\n  constructor() {\n    this.button = document.querySelector('.button');\n    this.textarea = document.querySelector('.input__control');\n    this.resultContainer = document.querySelector('.result');\n    this.message = document.querySelector('.message__text');\n\n    this.textRenderer = new TextRenderer(this.resultContainer, this.message);\n    this.selectionManager = new SelectionManager(this.message);\n    this.dragAndDropManager = new DragAndDropManager(this.selectionManager, this.message);\n\n    this.initializeMessage();\n    this.setupEventListeners();\n  }\n\n  initializeMessage() {\n    this.message.textContent = 'Enter text and click the \"Display\" button.';\n  }\n\n  setupEventListeners() {\n    this.button.addEventListener('click', this.handleButtonClick.bind(this));\n  }\n\n  handleButtonClick() {\n    this.textRenderer.render(this.textarea.value);\n    this.textarea.value = '';\n  }\n}\n","import '../styles/main.css';\n\nimport { Main } from './Main';\n\nexport function init() {\n  new Main();\n}\n\ndocument.addEventListener('DOMContentLoaded', init);\n"],"names":["CursorManager","_classCallCheck","this","cursor","createCursor","key","value","span","document","createElement","classList","add","target","parent","parentNode","insertBefore","nextSibling","removeChild","DragAndDropManager","selectionManager","messageElement","cursorManager","draggedLetters","setupEventListeners","body","addEventListener","handleDragStart","bind","handleDragOver","handleDrop","handleDragEnd","event","selected","getSelectedLetters","length","contains","map","_ref","element","sort","a","b","parseInt","dataset","index","dataTransfer","setData","effectAllowed","forEach","_ref2","textContent","preventDefault","dropTarget","findLetterFromPoint","clientX","clientY","placeBefore","_this","swapLetters","_ref3","getCursor","div","_ref4","rect","getBoundingClientRect","style","left","concat","width","top","height","removeAttribute","appendChild","cleanup","letterA","letterB","parentA","parentB","placeholderA","placeholderB","replaceChild","querySelectorAll","el","remove","clearSelection","x","y","elementFromPoint","SelectionManager","selectedLetters","selectionBox","startX","startY","handleMouseDown","handleMouseMove","handleMouseUp","ctrlKey","metaKey","toggleLetterSelection","startSelectionBox","letter","letterIndex","getLetterIndex","find","item","filter","push","text","innerText","setAttribute","updateSelectionBoxPosition","updateLetterSelection","Object","assign","Math","abs","min","letterRect","right","bottom","some","_toConsumableArray","TextRenderer","container","clear","trim","split","char","createSpan","innerHTML","Main","button","querySelector","textarea","resultContainer","message","textRenderer","dragAndDropManager","initializeMessage","handleButtonClick","render"],"sourceRoot":""}